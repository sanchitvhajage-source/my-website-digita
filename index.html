<!DOCTYPE html>
<html class="dark" lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>K.J. DIGITA - Where Code Creates Impact</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&amp;family=Montserrat:wght@700&amp;display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <!-- Tailwind Config -->
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#067ff9",
            "background-light": "#f5f7f8",
            "background-dark": "#0f1923",
          },
          fontFamily: {
            "display": ["Inter", "sans-serif"],
            "heading": ["Montserrat", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.25rem",
            "lg": "0.5rem",
            "xl": "0.75rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
  <!-- Custom Styles -->
  <style>
    body {
      overflow-x: hidden;
    }
    .font-heading {
      font-family: 'Montserrat', sans-serif;
    }
    /* Spinner for login loading */
    .spinner {
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #fff;
      width: 20px;
      height: 20px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-300">
  <div class="relative flex min-h-screen w-full flex-col">
    
    <!-- === HEADER WITH HAMBURGER MENU & LOGIN === -->
    <header class="absolute top-0 left-0 right-0 z-50 flex flex-wrap items-center justify-between whitespace-nowrap border-b border-solid border-white/10 bg-transparent px-4 py-3 backdrop-blur-sm sm:px-6 lg:px-10">
      
      <!-- Logo -->
      <a href="index.html" class="flex items-center gap-4 text-white">
        <span class="material-symbols-outlined text-primary text-2xl"> hub </span>
        <h2 class="font-heading text-lg font-bold leading-tight tracking-[-0.015em] text-white">K.J. DIGITA</h2>
      </a>

      <!-- Desktop Nav & Auth -->
      <div class="hidden md:flex items-center gap-9">
        <nav class="flex items-center gap-9">
          <!-- Set "Home" to active -->
          <a class="text-primary text-sm font-medium leading-normal" href="index.html">Home</a>
          <a class="text-white/80 hover:text-white text-sm font-medium leading-normal transition-colors" href="slide2.html">About</a>
          <a class="text-white/80 hover:text-white text-sm font-medium leading-normal transition-colors" href="slide3-projects.html">Projects</a>
          <a class="text-white/80 hover:text-white text-sm font-medium leading-normal transition-colors" href="slide5-team.html">Team</a>
          <a class="text-white/80 hover:text-white text-sm font-medium leading-normal transition-colors" href="slide6-events.html">Events</a>
          <a class="text-white/80 hover:text-white text-sm font-medium leading-normal transition-colors" href="slide7-contact.html">Contact</a>
        </nav>
        <!-- Desktop Auth -->
        <div id="auth-container-desktop" class="flex items-center justify-end" style="min-width: 100px;">
          <!-- Spinner will be injected by script -->
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <button id="mobile-menu-toggle" class="md:hidden rounded-md p-2 text-white/80 hover:text-white hover:bg-white/10">
        <span class="material-symbols-outlined">menu</span>
      </button>

      <!-- Mobile Menu (Dropdown) -->
      <div id="mobile-menu" class="hidden md:hidden w-full basis-full">
        <div class="flex flex-col gap-y-4 pt-4 mt-4 border-t border-white/10">
          <nav class="flex flex-col gap-4">
            <a class="text-primary text-base font-medium leading-normal" href="index.html">Home</a>
            <a class="text-white/80 hover:text-white text-base font-medium leading-normal transition-colors" href="slide2.html">About</a>
            <a class="text-white/80 hover:text-white text-base font-medium leading-normal transition-colors" href="slide3-projects.html">Projects</a>
            <a class="text-white/80 hover:text-white text-base font-medium leading-normal transition-colors" href="slide5-team.html">Team</a>
            <a class="text-white/80 hover:text-white text-base font-medium leading-normal transition-colors" href="slide6-events.html">Events</a>
            <a class="text-white/80 hover:text-white text-base font-medium leading-normal transition-colors" href="slide7-contact.html">Contact</a>
          </nav>
          <!-- Mobile Auth -->
          <div id="auth-container-mobile" class="flex items-center justify-start pt-4 mt-4 border-t border-white/10">
            <!-- Auth UI will be injected by script -->
          </div>
        </div>
      </div>
    </header>
    <!-- === END OF HEADER === -->
    
    <!-- Hero Section (Your original code, untouched) -->
    <main class="flex-grow">
      <section class="relative flex min-h-screen items-center justify-center overflow-hidden pt-20">
        <!-- Background Blur Effects -->
        <div class="absolute inset-0 z-0">
          <div class="absolute inset-0 bg-background-dark"></div>
          <div class="absolute top-1/4 left-1/4 h-96 w-96 rounded-full bg-primary/20 blur-3xl filter"></div>
          <div class="absolute bottom-1/4 right-1/4 h-96 w-96 rounded-full bg-primary/20 blur-3xl filter"></div>
        </div>
        <!-- Content -->
        <div class="container relative z-10 mx-auto px-4 sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 items-center gap-12 lg:grid-cols-2 lg:gap-20">
            <!-- Hero Text -->
            <div class="flex flex-col items-start gap-6 text-left">
              <h1 class="font-heading text-5xl font-bold leading-tight tracking-tighter text-white md:text-6xl lg:text-7xl">
                Where Code Creates Impact.
              </h1>
              <p class="max-w-xl text-base leading-relaxed text-gray-300 md:text-lg">
                A community of student innovators at K.J. Somaiya dedicated to developing cutting-edge skills through hands-on projects and collaborative problem-solving.
              </p>
              <!-- Button is now a link to the projects page -->
              <a class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-12 px-6 bg-primary text-white text-base font-bold leading-normal tracking-wide transition-transform hover:scale-105" href="slide3-projects.html">
                <span>Explore Our Projects</span>
              </a>
            </div>
            <!-- Hero Images -->
            <div class="relative h-[400px] w-full lg:h-[500px]">
              <div class="absolute top-1/2 left-1/2 h-full w-full -translate-x-1/2 -translate-y-1/2 transform">
                <!-- Desktop Mockup -->
                <div class="absolute left-0 top-0 h-auto w-full max-w-lg rounded-xl bg-gray-900/50 p-3 shadow-2xl ring-1 ring-white/10 backdrop-blur-sm lg:max-w-xl">
                  <div class="aspect-video w-full rounded-lg bg-cover bg-center" data-alt="Screenshot of a project dashboard UI" style='background-image: url("https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=1600&auto=format&fit=crop&q=80");'></div>
                </div>
                <!-- Mobile Mockup -->
                <div class="absolute bottom-[-10%] right-[-5%] h-auto w-1/3 max-w-[150px] rounded-lg bg-gray-900/50 p-2 shadow-2xl ring-1 ring-white/10 backdrop-blur-sm">
                  <div class="aspect-[9/19] w-full rounded-md bg-cover bg-center" data-alt="Mobile screenshot of a project UI" style='background-image: url("https://images.unsplash.com/photo-1551650975-87deedd944c3?w=900&auto=format&fit=crop&q=80");'></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Scroll Down Indicator -->
        <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
          <span class="material-symbols-outlined text-3xl text-white/50">expand_more</span>
        </div>
      </section>
    </main>
  </div>

  <!-- === NEW FIREBASE & AUTH SCRIPT (100% Correct) === -->
  <script type="module">
    // --- Hamburger Menu Toggle ---
    const toggleButton = document.getElementById("mobile-menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");
    
    if (toggleButton && mobileMenu) {
      toggleButton.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
        // Change icon to 'close' when open
        if (mobileMenu.classList.contains("hidden")) {
          toggleButton.innerHTML = `<span class="material-symbols-outlined">menu</span>`;
        } else {
          toggleButton.innerHTML = `<span class="material-symbols-outlined">close</span>`;
        }
      });
    }

    // --- Firebase Auth ---
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import {
      getAuth,
      onAuthStateChanged,
      GoogleAuthProvider,
      signInWithRedirect,
      signOut
    } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    // --- Robust Firebase Configuration ---
    let firebaseConfig;
    if (typeof __firebase_config !== 'undefined' && __firebase_config) {
        try {
            firebaseConfig = JSON.parse(__firebase_config);
        } catch (e) {
            console.error("Failed to parse firebase config:", e);
            firebaseConfig = null;
        }
    } else {
        firebaseConfig = null;
        console.warn("Firebase config (__firebase_config) is missing.");
    }
    
    // --- Initialize Firebase ---
    let app, auth, db;
    const authContainerDesktop = document.getElementById("auth-container-desktop");
    const authContainerMobile = document.getElementById("auth-container-mobile");
    const provider = new GoogleAuthProvider();

    // Show loading spinner
    const spinnerHTML = '<div class="spinner"></div>';
    if (authContainerDesktop) authContainerDesktop.innerHTML = spinnerHTML;
    if (authContainerMobile) authContainerMobile.innerHTML = spinnerHTML;

    if (!firebaseConfig) {
        console.error("Firebase config is missing or invalid.");
        const errorMsg = `<span class="text-xs text-red-400">Auth Error</span>`;
        if(authContainerDesktop) authContainerDesktop.innerHTML = errorMsg;
        if(authContainerMobile) authContainerMobile.innerHTML = errorMsg;
    } else {
        try {
          app = initializeApp(firebaseConfig);
          auth = getAuth(app);
          db = getFirestore(app);
          setLogLevel('Debug');
        } catch (e) {
          console.error("Firebase initialization failed:", e);
          const errorMsg = `<span class="text-xs text-red-400">Auth Init Error</span>`;
          if(authContainerDesktop) authContainerDesktop.innerHTML = errorMsg;
          if(authContainerMobile) authContainerMobile.innerHTML = errorMsg;
        }
    }

    // --- Handle Login ---
    async function login() {
      if (!auth) {
          console.error("Login failed: Firebase Auth is not initialized.");
          return;
      }
      try {
        await signInWithRedirect(auth, provider);
      } catch (error) {
        console.error("Login failed:", error);
      }
    }

    // --- Handle Logout ---
    async function logout() {
      if (!auth) {
          console.error("Logout failed: Firebase Auth is not initialized.");
          return;
      }
      try {
        await signOut(auth);
      } catch (error) {
        console.error("Logout failed:", error);
      }
    }

    // --- Update UI based on Auth State ---
    function updateUI(user) {
      if (user && !user.isAnonymous) { // User is signed in
        const authHTML = (idPrefix) => `
          <div class="flex items-center gap-3">
            <img src="${user.photoURL || 'https://placehold.co/32x32/067ff9/FFFFFF?text=' + (user.displayName ? user.displayName[0] : 'U')}" alt="Profile" class="w-8 h-8 rounded-full">
            <span class="inline text-white text-sm font-medium">${user.displayName || 'User'}</span>
            <button id="logout-btn-${idPrefix}" class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-white/10 text-white text-sm font-bold leading-normal tracking-[0.015em] transition-opacity hover:opacity-90">
              <span class="truncate">Logout</span>
            </button>
          </div>
        `;
        if (authContainerDesktop) authContainerDesktop.innerHTML = authHTML('desktop');
        if (authContainerMobile) authContainerMobile.innerHTML = authHTML('mobile');
        
        document.getElementById('logout-btn-desktop')?.addEventListener('click', logout);
        document.getElementById('logout-btn-mobile')?.addEventListener('click', logout);
        
      } else { // User is signed out or anonymous
        const authHTML = (idPrefix) => `
          <button id="login-btn-${idPrefix}" class="flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] transition-opacity hover:opacity-90">
            <span class="truncate">Login</span>
          </button>
        `;
        if (authContainerDesktop) authContainerDesktop.innerHTML = authHTML('desktop');
        if (authContainerMobile) authContainerMobile.innerHTML = authHTML('mobile');

        document.getElementById('login-btn-desktop')?.addEventListener('click', login);
        document.getElementById('login-btn-mobile')?.addEventListener('click', login);
      }
    }

    // --- Auth State Listener ---
    if (auth) { // Only attach listener if auth is initialized
        onAuthStateChanged(auth, (user) => {
          updateUI(user);
        });
    } else {
        // If auth failed, just show the login button
        updateUI(null);
    }
  </script>
</body>
</html>


